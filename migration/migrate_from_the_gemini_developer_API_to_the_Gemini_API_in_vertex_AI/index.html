
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Google Cloud Vertex AI Documentations">
      
      
      
        <link rel="canonical" href="https://github.com/zhixinlaigg/doc_rewrite_new.github.io/migration/migrate_from_the_gemini_developer_API_to_the_Gemini_API_in_vertex_AI/">
      
      
        <link rel="prev" href="../openai/Examples/">
      
      
        <link rel="next" href="../../gemini/migrate_to_gemini2/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Migrate from Google AI to Vertex AI - Google Cloud Vertex AI Documentations</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#migrate-from-the-gemini-developer-api-to-the-gemini-api-in-vertex-ai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Google Cloud Vertex AI Documentations" class="md-header__button md-logo" aria-label="Google Cloud Vertex AI Documentations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Google Cloud Vertex AI Documentations
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Migrate from Google AI to Vertex AI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/zhixinlaigg/doc_rewrite_new.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    doc_rewrite_new.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Google Cloud Vertex AI Documentations" class="md-nav__button md-logo" aria-label="Google Cloud Vertex AI Documentations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Google Cloud Vertex AI Documentations
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zhixinlaigg/doc_rewrite_new.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    doc_rewrite_new.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../static/vertex-ai/generative-ai/docs/learn/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../static/vertex-ai/generative-ai/docs/multimodal/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Get started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Get started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstarts/try-gen-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Send a text prompt to the Gemini API without an account
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/quickstart-image-generate-console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate an image and verify its watermark using Imagen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstarts/quickstart-multimodal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate text using the Gemini API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstarts/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Send text prompts to Gemini using Vertex AI Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstarts/deploy-vais-prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy your Vertex AI Studio prompt as a web application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Vertex AI in express mode
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Vertex AI in express mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/express-mode/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/express-mode/vertex-ai-studio-express-mode-quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/express-mode/vertex-ai-express-mode-api-quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Migrate
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Migrate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Call Vertex AI models uing OpenAI libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Call Vertex AI models uing OpenAI libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openai/Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openai/Authenticate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authenticate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openai/Examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Migrate from Google AI to Vertex AI
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Migrate from Google AI to Vertex AI
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#differences-between-the-gemini-developer-api-and-the-gemini-api-in-vertex-ai" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Differences between the Gemini Developer API and the Gemini API in Vertex AI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-to-gemini-api-in-vertex-ai" class="md-nav__link">
    <span class="md-ellipsis">
      ‚öôÔ∏è Migrate to Gemini API in Vertex AI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚öôÔ∏è Migrate to Gemini API in Vertex AI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      Install the client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-text-from-a-text-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Generate text from a text prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-text-from-text-and-image" class="md-nav__link">
    <span class="md-ellipsis">
      Generate text from text and image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-multi-turn-chat" class="md-nav__link">
    <span class="md-ellipsis">
      Generate multi-turn chat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-questions" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Related Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      üîó What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Gemini
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Gemini
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gemini/migrate_to_gemini2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate to Gemini 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#differences-between-the-gemini-developer-api-and-the-gemini-api-in-vertex-ai" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Differences between the Gemini Developer API and the Gemini API in Vertex AI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-to-gemini-api-in-vertex-ai" class="md-nav__link">
    <span class="md-ellipsis">
      ‚öôÔ∏è Migrate to Gemini API in Vertex AI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚öôÔ∏è Migrate to Gemini API in Vertex AI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      Install the client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-text-from-a-text-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Generate text from a text prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-text-from-text-and-image" class="md-nav__link">
    <span class="md-ellipsis">
      Generate text from text and image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-multi-turn-chat" class="md-nav__link">
    <span class="md-ellipsis">
      Generate multi-turn chat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-questions" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Related Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      üîó What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="migrate-from-the-gemini-developer-api-to-the-gemini-api-in-vertex-ai">Migrate from the Gemini Developer API to the Gemini API in Vertex AI<a class="headerlink" href="#migrate-from-the-gemini-developer-api-to-the-gemini-api-in-vertex-ai" title="Permanent link">&para;</a></h1>
<p>If you are new to Gemini, the fastest way to get started is by using the <a href="https://ai.google.dev/gemini-api/docs/quickstart?lang=python">quickstarts</a>.</p>
<p>As your generative AI solutions mature, you may need a platform for building and deploying them end-to-end. Google Cloud provides a comprehensive ecosystem of tools to enable developers to harness the power of generative AI, from initial app development to deployment, hosting, and managing complex data at scale.</p>
<p>Google Cloud's Vertex AI platform offers a suite of MLOps tools that streamline the usage, deployment, and monitoring of AI models for efficiency and reliability. Additionally, integrations with databases, DevOps tools, logging, monitoring, and IAM provide a holistic approach to managing the entire generative AI lifecycle.</p>
<p><strong>Common use cases for Google Cloud offerings</strong></p>
<p>Here are some examples of common use cases that are well-suited for Google Cloud offerings:</p>
<ul>
<li><strong>Productionize your apps and solutions</strong>: Products like <a href="https://cloud.google.com/functions/docs/concepts/overview">Cloud Functions</a> and <a href="https://cloud.google.com/run/docs/overview/what-is-cloud-run">Cloud Run</a> let you deploy apps with enterprise-grade scale, security, and privacy. Find more details in the <a href="https://cloud.google.com/security">Security, Privacy, and Cloud Compliance on Google Cloud</a> guide.</li>
<li><strong>Use Vertex AI for end-to-end MLOps</strong>: Leverage capabilities from tuning to vector similarity search and ML pipelines.</li>
<li><strong>Trigger your LLM with an event-driven architecture</strong>: Use <a href="https://cloud.google.com/functions/docs/concepts/overview">Cloud Functions</a> or <a href="https://cloud.google.com/run/docs/overview/what-is-cloud-run">Cloud Run</a>.</li>
<li><strong>Monitor app usage</strong>: Integrate with <a href="https://cloud.google.com/logging/docs">Cloud Logging</a> and <a href="https://cloud.google.com/logging/docs/export/bigquery">BigQuery</a>.</li>
<li><strong>Store data securely at scale</strong>: Use services like <a href="https://cloud.google.com/bigquery/docs">BigQuery</a>, <a href="https://cloud.google.com/storage/docs/introduction">Cloud Storage</a>, and <a href="https://cloud.google.com/sql">Cloud SQL</a>.</li>
<li><strong>Perform retrieval-augmented generation (RAG)</strong>: Use data in the cloud with <a href="https://cloud.google.com/bigquery/docs">BigQuery</a> or <a href="https://cloud.google.com/storage/docs/introduction">Cloud Storage</a>.</li>
<li><strong>Create and schedule data pipelines</strong>: <a href="https://cloud.google.com/scheduler/docs/schedule-run-cron-job">Schedule jobs</a> using <a href="https://cloud.google.com/scheduler/docs/overview">Cloud Scheduler</a>.</li>
<li><strong>Apply LLMs to your data in the cloud</strong>: If you store data in Cloud Storage or BigQuery, you can prompt LLMs over that data to extract information, summarize, or ask questions about it.</li>
<li><strong>Leverage Google Cloud data governance</strong>: Use <a href="https://cloud.google.com/learn/what-is-data-governance">data governance/residency</a> policies to manage your data lifecycle.</li>
</ul>
<h2 id="differences-between-the-gemini-developer-api-and-the-gemini-api-in-vertex-ai">üìö Differences between the Gemini Developer API and the Gemini API in Vertex AI<a class="headerlink" href="#differences-between-the-gemini-developer-api-and-the-gemini-api-in-vertex-ai" title="Permanent link">&para;</a></h2>
<p>The following table summarizes the main differences between the Gemini Developer API and the Vertex AI Gemini API to help you decide which option is right for your use case.</p>
<table>
<thead>
<tr>
<th><strong>Features</strong></th>
<th><strong>Gemini Developer API</strong></th>
<th><strong>Vertex AI Gemini API</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Gemini models</strong></td>
<td>Gemini 1.5 Flash, Gemini 1.5 Pro</td>
<td>Gemini 1.5 Flash, Gemini 1.5 Pro</td>
</tr>
<tr>
<td><strong>Sign up</strong></td>
<td>Google account</td>
<td>Google Cloud account (with terms agreement and billing)</td>
</tr>
<tr>
<td><strong>Authentication</strong></td>
<td>API key</td>
<td>Google Cloud service account</td>
</tr>
<tr>
<td><strong>User interface playground</strong></td>
<td>Google AI Studio</td>
<td>Vertex AI Studio</td>
</tr>
<tr>
<td><strong>API &amp; SDK</strong></td>
<td>Server and mobile/web client SDKs: <ul><li>Server: Python, Node.js, Go, Dart, ABAP</li><li>Mobile/Web client: Android (Kotlin/Java), Swift, Web, Flutter</li></ul></td>
<td>Server and mobile/web client SDKs: <ul><li>Server: Python, Node.js, Go, Java, ABAP</li><li>Mobile/Web client (via <a href="https://firebase.google.com/docs/vertex-ai">Vertex AI in Firebase</a>): Android (Kotlin/Java), Swift, Web, Flutter</li></ul></td>
</tr>
<tr>
<td><strong>No-cost usage of API &amp; SDK</strong></td>
<td>Yes, <a href="https://ai.google.dev/gemini-api/docs/billing#is-Gemini-free-in-EEA-UK-CH">where applicable</a></td>
<td>$300 Google Cloud credit for new users</td>
</tr>
<tr>
<td><strong>Quota (requests per minute)</strong></td>
<td>Varies based on model and pricing plan (see <a href="https://ai.google.dev/pricing">detailed information</a>)</td>
<td>Varies based on model and region (see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/quotas">detailed information</a>)</td>
</tr>
<tr>
<td><strong>Enterprise support</strong></td>
<td>No</td>
<td>Customer encryption key<br>Virtual private cloud<br>Data residency<br>Access transparency<br>Scalable infrastructure for application hosting<br>Databases and data storage</td>
</tr>
<tr>
<td><strong>MLOps</strong></td>
<td>No</td>
<td>Full MLOps on Vertex AI (examples: model evaluation, Model Monitoring, Model Registry)</td>
</tr>
</tbody>
</table>
<h2 id="migrate-to-gemini-api-in-vertex-ai">‚öôÔ∏è Migrate to Gemini API in Vertex AI<a class="headerlink" href="#migrate-to-gemini-api-in-vertex-ai" title="Permanent link">&para;</a></h2>
<p>This section shows how to migrate from the Gemini Developer API to the Gemini API in Vertex AI.</p>
<pre class="mermaid"><code>flowchart LR
    A[Start: Set up Vertex AI] --&gt; B[Migrate Python Code]
    B --&gt; C[Migrate Prompts]
    C --&gt; D[Upload Training Data]
    D --&gt; E[Finish: Delete old API Key]</code></pre>
<p><strong>Considerations when migrating</strong></p>
<ul>
<li>You can use your existing Google Cloud project (the same one you used to generate your Gemini API key) or you can create a new <a href="/resource-manager/docs/creating-managing-projects">Google Cloud project</a>.</li>
<li>Supported regions might differ between the Gemini Developer API and the Gemini API in Vertex AI. See the list of <a href="/vertex-ai/generative-ai/docs/learn/locations">supported regions for generative AI on Google Cloud</a>.</li>
<li>Any models you created in Google AI Studio need to be retrained in Vertex AI.</li>
</ul>
<details>
<summary>Step 1: Start using Vertex AI Studio</summary>
<p>The process you follow to migrate to the Gemini API in Vertex AI is different depending on whether you already have a Google Cloud account.</p>
<p><strong>Note:</strong> Google AI Studio and the Gemini Developer API are available only in <a href="https://ai.google.dev/available_regions">specific regions and languages</a>. If you aren't located in a supported region, you can't start using the Gemini API in Vertex AI.</p>
<p>To learn how to migrate to the Gemini API in Vertex AI, click the tab that corresponds to your Google Cloud account status:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="already-use-google-cloud" name="__tabbed_1" type="radio" /><input id="new-to-google-cloud" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="already-use-google-cloud">Already use Google Cloud</label><label for="new-to-google-cloud">New to Google Cloud</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>Sign in to <a href="https://aistudio.google.com/app/waitlist/97445851">Google AI Studio</a>.</li>
<li>At the bottom of the left navigation pane, click <strong>Build with Vertex AI on Google Cloud</strong>. The <strong>Try Vertex AI and Google Cloud for free</strong> page opens.</li>
<li>Click <strong>Agree &amp; Continue</strong>. The <strong>Get Started with Vertex AI studio</strong> dialog appears.</li>
<li>To enable the APIs required to run Vertex AI, click <strong>Agree &amp; Continue</strong>. The Vertex AI console appears.</li>
</ol>
</div>
<div class="tabbed-block">
<ol>
<li>Sign in to <a href="https://aistudio.google.com/app/waitlist/97445851">Google AI Studio</a>.</li>
<li>At the bottom of the left navigation pane, click <strong>Build with Vertex AI on Google Cloud</strong>. The <strong>Create an account to get started with Google Cloud</strong> page opens.</li>
<li>Click <strong>Agree &amp; Continue</strong>. The <strong>Let's confirm your identity</strong> page appears.</li>
<li>Click <strong>Start Free</strong>. The <strong>Get Started with Vertex AI studio</strong> dialog appears.</li>
<li>To enable the APIs required to run Vertex AI, click <strong>Agree &amp; Continue</strong>.</li>
</ol>
</div>
</div>
</div>
</details>
<details>
<summary>Step 2: Migrate your Python code</summary>
<p>The following sections show code snippets to help you migrate your Python code to use the Gemini API in Vertex AI.</p>
<p><strong>Vertex AI Python SDK Setup</strong></p>
<p>On Vertex AI, you don't need an API key. Instead, Gemini on Vertex AI is managed using IAM access, which controls permission for a user, a group, or a service account to call the Gemini API through the Vertex AI SDK.</p>
<p>While there are <a href="https://cloud.google.com/docs/authentication#auth-decision-tree">many ways to authenticate</a>, the easiest method for authenticating in a development environment is to <a href="https://cloud.google.com/sdk/docs/install">install the Google Cloud CLI</a> and then use your user credentials to <a href="https://cloud.google.com/docs/authentication/gcloud#local">sign in to the CLI</a>.</p>
<p>To make inference calls to Vertex AI, you must also make sure that your user or service account has the <a href="https://cloud.google.com/vertex-ai/docs/general/access-control#aiplatform.user">Vertex AI User role</a>.</p>
<h3 id="install-the-client">Install the client<a class="headerlink" href="#install-the-client" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="gemini-developer-api" name="__tabbed_2" type="radio" /><input id="gemini-api-in-vertex-ai" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="gemini-developer-api">Gemini Developer API</label><label for="gemini-api-in-vertex-ai">Gemini API in Vertex AI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># To install the Python SDK, use this CLI command:</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># pip install google-generativeai</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">google.generativeai</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">genai</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">google.generativeai</span><span class="w"> </span><span class="kn">import</span> <span class="n">GenerativeModel</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">API_KEY</span><span class="o">=</span><span class="s2">&quot;API_KEY&quot;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">genai</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># To install the Python SDK, use this CLI command:</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># pip install google-cloud-aiplatform</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vertexai</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vertexai.generative_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">GenerativeModel</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="s2">&quot;PROJECT_ID&quot;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">LOCATION</span> <span class="o">=</span> <span class="s2">&quot;LOCATION&quot;</span>  <span class="c1"># e.g. us-central1</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">vertexai</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">LOCATION</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="generate-text-from-a-text-prompt">Generate text from a text prompt<a class="headerlink" href="#generate-text-from-a-text-prompt" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="gemini-developer-api_1" name="__tabbed_3" type="radio" /><input id="gemini-api-in-vertex-ai_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="gemini-developer-api_1">Gemini Developer API</label><label for="gemini-api-in-vertex-ai_1">Gemini API in Vertex AI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash&quot;</span><span class="p">)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">response</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">generate_content</span><span class="p">(</span><span class="s2">&quot;The opposite of hot is&quot;</span><span class="p">)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="c1">#  The opposite of hot is cold.</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash-001&quot;</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">response</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">generate_content</span><span class="p">(</span><span class="s2">&quot;How does AI work?&quot;</span><span class="p">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Example response:</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># Okay, let&#39;s break down how AI works. It&#39;s a broad field, so I&#39;ll focus on the ...</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">#</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1"># Here&#39;s a simplified overview:</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># ...</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="generate-text-from-text-and-image">Generate text from text and image<a class="headerlink" href="#generate-text-from-text-and-image" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="gemini-developer-api_2" name="__tabbed_4" type="radio" /><input id="gemini-api-in-vertex-ai_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="gemini-developer-api_2">Gemini Developer API</label><label for="gemini-api-in-vertex-ai_2">Gemini API in Vertex AI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">PIL.Image</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">multimodal_model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash&quot;</span><span class="p">)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">image</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image.jpg&quot;</span><span class="p">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">response</span> <span class="o">=</span> <span class="n">multimodal_model</span><span class="o">.</span><span class="n">generate_content</span><span class="p">([</span><span class="s2">&quot;What is this picture?&quot;</span><span class="p">,</span> <span class="n">image</span><span class="p">])</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="c1"># A cat is shown in this picture.</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vertexai.generative_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Part</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">multimodal_model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash-001&quot;</span><span class="p">)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">response</span> <span class="o">=</span> <span class="n">multimodal_model</span><span class="o">.</span><span class="n">generate_content</span><span class="p">(</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="p">[</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="s2">&quot;What is shown in this image?&quot;</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>        <span class="n">Part</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>            <span class="s2">&quot;gs://cloud-samples-data/generative-ai/image/scones.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>            <span class="n">mime_type</span><span class="o">=</span><span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>        <span class="p">),</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    <span class="p">]</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="p">)</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="c1"># Example response:</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="c1"># The image shows a flat lay of blueberry scones arranged on parchment paper. There are ...</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="generate-multi-turn-chat">Generate multi-turn chat<a class="headerlink" href="#generate-multi-turn-chat" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="gemini-developer-api_3" name="__tabbed_5" type="radio" /><input id="gemini-api-in-vertex-ai_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="gemini-developer-api_3">Gemini Developer API</label><label for="gemini-api-in-vertex-ai_3">Gemini API in Vertex AI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash&quot;</span><span class="p">)</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">chat</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">start_chat</span><span class="p">()</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">chat</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s2">&quot;How are you?&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nb">print</span><span class="p">(</span><span class="n">chat</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s2">&quot;What can you do?&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">model</span> <span class="o">=</span> <span class="n">GenerativeModel</span><span class="p">(</span><span class="s2">&quot;gemini-1.5-flash-001&quot;</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">chat</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">start_chat</span><span class="p">()</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">response</span> <span class="o">=</span> <span class="n">chat</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="n">response</span> <span class="o">=</span> <span class="n">chat</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s2">&quot;Tell me a story.&quot;</span><span class="p">)</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="c1"># Example response:</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="c1"># Okay, here&#39;s a story for you:</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1"># ...</span>
</span></code></pre></div>
</div>
</div>
</div>
</details>
<details>
<summary>Step 3: Migrate prompts to Vertex AI Studio</summary>
<p>Your Google AI Studio prompt data is saved in a Google Drive folder. This section shows how to migrate your prompts to Vertex AI Studio.</p>
<ol>
<li>Open <a href="https://drive.google.com">Google Drive</a>.</li>
<li>Navigate to the <strong>AI_Studio</strong> folder where the prompts are stored.
    <img alt="Location of prompts in Google Drive" src="../images/ai-studio-drive.png" /></li>
<li>Download your prompts from Google Drive to a local directory.</li>
</ol>
<p><strong>Note:</strong> Prompts downloaded from Google Drive are in the text (<code>txt</code>) format. Before you upload them to Vertex AI Studio, convert them to JSON files. To do this, change the file extension from <code>.txt</code> to <code>.json</code>.</p>
<ol>
<li>Open <a href="https://console.cloud.google.com/vertex-ai/generative">Vertex AI Studio</a> in the Google Cloud console.</li>
<li>In the <strong>Vertex AI</strong> menu, click <strong>Prompt management</strong>.</li>
<li>Click <strong>Import prompt</strong>.</li>
<li>In the <strong>Prompt file</strong> field, click <strong>Browse</strong> and select a prompt from your local directory. To upload prompts in bulk, you must manually combine your prompts into a single JSON file.</li>
<li>Click <strong>Upload</strong>. The prompts are uploaded to the <strong>My Prompts</strong> tab.</li>
</ol>
</details>
<details>
<summary>Step 4: Upload training data to Vertex AI Studio</summary>
<p>To migrate your training data to Vertex AI, you need to upload your data to a Cloud Storage bucket. For more information, see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models">Introduction to tuning</a>.</p>
</details>
<details>
<summary>Step 5: Delete unused API Keys</summary>
<p>If you no longer need to use your Gemini API key for the Gemini Developer API, follow security best practices and delete it.</p>
<ol>
<li>Open the <a href="https://console.cloud.google.com/apis/credentials">Google Cloud API Credentials</a> page.</li>
<li>Find the API key that you want to delete and click the <strong>Actions</strong> icon.</li>
<li>Select <strong>Delete API key</strong>.</li>
<li>In the <strong>Delete credential</strong> modal, select <strong>Delete</strong>.</li>
</ol>
<p>Deleting an API key takes a few minutes to propagate. After propagation completes, any traffic using the deleted API key is rejected.</p>
<p><strong>Important:</strong> If you delete a key that's still used in production and need to recover it, see <a href="/sdk/gcloud/reference/beta/services/api-keys/undelete"><code>gcloud beta services api-keys undelete</code></a>.</p>
</details>
<h2 id="related-questions">üìö Related Questions<a class="headerlink" href="#related-questions" title="Permanent link">&para;</a></h2>
<details>
<summary>What are the main advantages of migrating from the Gemini Developer API to the Gemini API in Vertex AI?</summary>
<p>Migrating to the Gemini API in Vertex AI is beneficial as your generative AI solutions mature. Vertex AI provides a comprehensive platform for building and deploying applications end-to-end with enterprise-grade features. Key advantages include:</p>
<ul>
<li><strong>MLOps Capabilities:</strong> Access to a full suite of MLOps tools for model evaluation, monitoring, and management.</li>
<li><strong>Enterprise Support:</strong> Features like customer-managed encryption keys, Virtual Private Cloud (VPC), data residency, and access transparency.</li>
<li><strong>Integration:</strong> Seamless integration with other Google Cloud services like Cloud Run for deployment, BigQuery and Cloud Storage for data management and Retrieval-Augmented Generation (RAG), and Cloud Logging for monitoring.</li>
<li><strong>Scalability and Security:</strong> Deploy applications with enterprise-grade scale, security, and privacy, leveraging Google Cloud's robust infrastructure.</li>
</ul>
</details>
<details>
<summary>How does authentication change when moving from the Gemini Developer API to the Vertex AI Gemini API?</summary>
<p>Authentication methods are a key difference between the two APIs. The Gemini Developer API uses an API key for authentication. In contrast, the Gemini API in Vertex AI uses Google Cloud Identity and Access Management (IAM). Instead of an API key, you authenticate using a Google Cloud service account, and access is controlled by assigning roles, such as the "Vertex AI User" role, to a user, group, or service account.</p>
</details>
<details>
<summary>I have prompts saved in Google AI Studio. How do I migrate them to Vertex AI Studio?</summary>
<p>To migrate your prompts from Google AI Studio to Vertex AI Studio, follow these steps:</p>
<ol>
<li>Open Google Drive and navigate to the <strong>AI_Studio</strong> folder where your prompts are stored.</li>
<li>Download the desired prompt files (which will be in <code>.txt</code> format) to your local machine.</li>
<li>Convert the downloaded files to JSON format by changing the file extension from <code>.txt</code> to <code>.json</code>.</li>
<li>In the Google Cloud console, go to <strong>Vertex AI Studio</strong> and select <strong>Prompt management</strong>.</li>
<li>Click <strong>Import prompt</strong>, browse to your local JSON file, and upload it. The prompt will then appear in the <strong>My Prompts</strong> tab.</li>
</ol>
</details>
<details>
<summary>After migrating to Vertex AI, do I need to retrain the custom models I created in Google AI Studio?</summary>
<p>Yes. According to the documentation, any models that you created and trained in Google AI Studio must be retrained in Vertex AI after you migrate.</p>
</details>
<details>
<summary>I've successfully migrated my application to use the Vertex AI Gemini API. What should I do with my old Gemini API key?</summary>
<p>As a security best practice, you should delete any API key that is no longer in use. You can delete your old Gemini API key from the Google Cloud API Credentials page. Find the key, click the <strong>Actions</strong> icon, and select <strong>Delete API key</strong>. If you accidentally delete a key that is still in use, it can be recovered for a limited time using the <code>gcloud beta services api-keys undelete</code> command.</p>
</details>
<h2 id="whats-next">üîó What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<ul>
<li>Try a quickstart tutorial using <a href="/vertex-ai/generative-ai/docs/start/quickstarts/quickstart">Vertex AI Studio</a> or the <a href="/vertex-ai/generative-ai/docs/start/quickstarts/quickstart-multimodal">Vertex AI API</a>.</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../openai/Examples/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Examples">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Examples
              </div>
            </div>
          </a>
        
        
          
          <a href="../../gemini/migrate_to_gemini2/" class="md-footer__link md-footer__link--next" aria-label="Next: Migrate to Gemini 2">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Migrate to Gemini 2
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Google 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>